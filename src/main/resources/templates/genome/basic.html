<!doctype html>
<html lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org" th:with="user = ${#authentication.principal}">
<head>
    <!-- 공통 헤더 -->
    <th:block th:include="/../fragments/header.html"></th:block>
    <script src="../assets/vendor_assets/js/script.js"></script> <!-- 왼쪽상단에 버튼 클릭시 class 추가 스크립트 -->
    <style>
        .card {
            box-shadow: 0 3px 20px 3px rgb(0 0 0 / 7%); /* 2021-11-02 수정 */
        }

        table {
            border-top: 1px solid grey;
            border-collapse: collapse;
        }

        th, td {
            border-bottom: 2px solid #E5E9F2;
            padding: 10px;
            text-align: center;
            font-weight: initial;
        }

        th, tbody tr {
            background-color: white;
        }

        .main-content .card-extra .justify-content-end .atbd-button-list {
            width: 100%;
            margin: 0;
        }

        .main-content .nav-tabs .nav-link.active, .main-content .nav-tabs .nav-item.show .nav-link, .modal-basic .atbd-tab .nav-link {
            color: #D9D9D9;
            font-size: 16px;
            font-weight: 700;
        }

        .main-content .atbd-tab .nav-link:after {
            background-color: #f4f5f7;
        }

        .modal-basic .atbd-tab .nav-tabs .nav-item.active a {
            border-radius: 21px;
            background-color: #EDF6F1;
            color: #217566;
            font-size: 16px;
            font-weight: 700;
        }

        .modal-basic .atbd-tab .nav-tabs .nav-item a::after,
        .modal-basic .atbd-tab .nav-tabs:after {
            display: none;
        }

        .content_title {
            width: 100%;
            background-color: #F7F7F8;
            padding: 10px 0;
        }

        .content_title li {
            float: left;
            width: 50%;
            text-align: center;
        }

        .content_1 {
            padding: 0;
            max-height: 500px;
            overflow: auto;
            line-height: 2;
        }

        .content_1 .title {
            float: left;
        }

        .content_1 .input_text {
            float: right;
            width: 30%;
        }

        .content_1 .input_text input[type="text"] {
            width: 180%;
        }

        .content_1 li {
            display: inline-block;
            width: 80%;
            color: #222222;
            font-size: 16px;
        }

        .pop1 .modal-dialog textarea {
            width: 100%;
            height: 300px;
            border-radius: 5px;
            border: 1px solid #D9D9D9;
        }

        .pop1 .modal-dialog .btn-upload {
            width: 100%;
        }

        .pop1 .atbd-upload__file {
            display: none;
        }

        .pop2 .modal-header {
            display: -webkit-box;
        }

        .main-content .pop1 .form-group input[type=text] {
            flex: 0 0 85%;
        }

        .main-content .pop1 .form-group span {
            flex: 0 0 10%;
        }

        .main-content .pop1 a.btn-outline-lighten {
            display: block;
            text-align: left;
            color: #B2B2B2;
        }

        #grid .content_1 li, #grid3 .content_1 li {
            display: inline-block;
            width: 80%;
            color: #222222;
            font-size: 16px;
        }

        #gen-messege {
            display: table;
        }

        #gen-messege .modal-dialog {
            display: table-cell;
            vertical-align: middle;
        }

        #gen-messege .modal-dialog .modal-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
            padding: 40px 0;
        }

        #gen-messege .modal-dialog .modal-content .messege {
            padding-bottom: 30px;
        }

        @media (min-width: 576px) {
            .modal-dialog {
                max-width: 1014px;
                margin: 1.75rem auto;
            }

            .pop1 .modal-dialog {
                max-width: 750px;
            }

            .pop4 .modal-dialog {
                max-width: 750px;
                margin: 0 auto;
            }
        }

        .btn.btn-light.btn-transparent-light {
            display: block;
            width: 100%;
            background-color: rgba(244, 245, 247, 0);
        }

        .main-content .contents .container-fluid {
            max-width: 100%;
            padding: 50px;
        }

        .bg-white > .row {
            padding-top: 50px;
        }

        .top-menu .type_1 {
            background-color: #768BF5;
            border-left: none;
            border-radius: 0 5px 5px 0;
        }

        #searchResearch {
            float: left;
            width: 60%;
            border-radius: 5px 0 0 0;
            border-right: none;
            height: 42px;
        }

        #addResearchBtn {
            float: left;
            border-left: none;
            border-radius: 0 5px 0 0;
            height: 42px;
            margin-top: 0 !important;
            width: 40%;
        }

        .box_content {
            -webkit-box-flex: 0;
            -ms-flex: 0 0 66.66667%;
            flex: 0 0 10%;
            max-width: 10%;
            display: flex;
            justify-content: center;
        }

        .box_center li {
            margin-bottom: 20px;
        }

        .box_center li button {
            border-radius: 50%;
            border: 2px solid #788DEE;
            background-color: transparent;
            height: 38px;
            color: #788DEE;
        }

        .card-body .mt-4 {
            margin-top: 10px !important;
        }

        @media (min-width: 992px) {
            .card .col-lg-8 {
                -webkit-box-flex: 0;
                -ms-flex: 0 0 66.66667%;
                flex: 0 0 70%;
                max-width: 70%;
            }

            .card .col-lg-3 {
                -webkit-box-flex: 0;
                -ms-flex: 0 0 25%;
                flex: 0 0 25%;
                max-width: 25%;
            }
        }

        #grid2 .contents .row {
            align-items: center;
        }

        #grid2 .content_1 .row.mt-20 {
            margin-top: 0 !important;
        }

        #grid2 .content_1 li {
            cursor: pointer;
            width: 100%;
        }

        #grid2 .content_1 li div.title {
            display: inline-block;
            float: none;
        }

        #grid2 .content_1 li input[type="checkbox"] {
            margin: 0 10px;
            display: inline-block;
        }

        #grid2 .content_1 .list-group {
            min-width: max-content;
        }

        #data_upload .modal-body .form-group {
            justify-content: flex-start;
        }

        #data_upload .form-group button, #data_upload2 .form-group button, #basic_file .form-group button {
            height: 45px;
            padding: 0 20px;
            background-color: #217566;
            color: #fff;
            border: none;
            border-radius: 5px;
            margin-left: 10px;
        }

        #data_upload2 .form-group button, #basic_file .form-group button {
            margin-left: 0;
        }

        #data_upload .form-group input[type=text], #data_upload2 .form-group input[type=text], #basic_file .form-group input[type=text] {
            flex: 0 0 30%;
            cursor: pointer;
        }

        #data_upload .form-group input[type=text]::-webkit-input-placeholder {
            background: url("../assets/vendor_assets/img/upload.png") no-repeat 0 3px;
            background-size: 15px;
            color: #B2B2B2;
        }

        #data_upload .atbd-upload, #data_upload2 .atbd-upload {
            width: 100%;
            height: 300px;
            overflow: auto;
        }

        #data_upload .atbd-upload table {
            min-width: max-content;
            border: none;
        }

        #data_upload2 .atbd-upload table {
            width: 100%;
        }

        #data_upload table thead tr, #data_upload2 table thead tr {
            border-top: none;
            border-bottom: 2px solid #E8EEF2;
        }

        #data_upload table tbody tr, #data_upload2 table tbody tr {
            border-bottom: 1px solid #E8EEF2;
        }

        #data_upload .atbd-upload table thead th, #data_upload2 .atbd-upload table thead th {
            background-color: #F7F7F8;
            color: #222222;
            font-size: 16px;
        }

        #data_upload .atbd-upload table tbody td, #data_upload2 .atbd-upload table tbody td {
            background-color: #fff;
            color: #666666;
            font-size: 16px;
            font-weight: 200;
        }

        /* 2021 - 11 - 01 수정 */
        #basic_list td {
            padding: 0px 12px;
            vertical-align: middle;
            font-size: 14px
        }

        #basic_list th {
            font-size: 16px
        }

        .main-content .contents .container-fluid {
            max-width: 100%;
            padding: 50px;
        }

        .btn.btn-light.btn-transparent-light {
            display: block;
            width: 100%;
            background-color: rgba(244, 245, 247, 0);
        }

        .main-content .contents .container-fluid {
            max-width: 100%;
            padding: 50px;
        }

        .bg-white > .row {
            padding-top: 50px;
        }

        .table th, .table td {
            vertical-align: middle;
        }

        td .btn i.bi-file-earmark-arrow-down {
            color: #000;
        }

        .table td {
            padding: 0px 12px;
            vertical-align: middle;
            font-size: 14px;
            border-bottom: 2px solid #d9d9d9;
        }

        /* 2021 - 11 - 02 수정 */
        .table th {
            font-size: 16px;
            border-top: 1px solid #d9d9d9;
        }

        /* 2021 - 11 - 02 수정 */
        .table thead th {
            border-bottom: 2px solid #adadad;
        }

        /* 2021 - 11 - 02 수정 */

        #table2 td {
            padding: 12px 12px;
            font-size: 14px
        }

        #table2 th {
            font-size: 16px
        }

        .main-content .table thead th span.title:before,
        .main-content .table thead th span.title:after,
        .main-content .table thead th i {
            display: none;
        }

        .main-content .table thead th > img {
            margin: 6px 0 0 12px;
        }

        .popup_wrap {
            display: none
        }

        .popup_wrap.on {
            display: block;
            position: fixed;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            z-index: 999;
            background-color: rgba(0, 0, 0, 0.1);
        }

        .popup_wrap.on .popup {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 150px;
            background-color: #fff;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            padding-top: 40px
        }

        .popup_wrap.on .close {
            opacity: 1;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 20px;
            font-size: 14px;
            background-color: #1e695c;
            display: block;
            height: 35px;
            width: 90px;
            color: #fff;
            font-weight: 400;
            border-radius: 6px
        }

        /* 2021 - 11 - 02 수정 */
        #data_upload .form-group button {
            line-height: 2rem;
            font-size: 13px;
            height: 34px;
            margin-left: 5px;
        }

        #data_upload .form-group input[type=text] {
            height: 34px;
        }

        #data_upload .form-group input[type=text]::placeholder {
            text-align: left;
            text-indent: 20px;
            font-size: 14px;
        }

        .contents .container-fluid {
            background-color: #FCFCFC;
        }

        .atbd-upload > table {
            width: 100%;
        }

        .modal-content .modal-footer {
            padding-bottom: 28px;
            padding-right: 24px;
        }

        .btn-primary {
            border: none;
        }


        .box_center li button {
            padding: 2px 5px;
        }

        .top-menu .box_center li button > .feather {
            margin-right: 1px;
            margin-bottom: 4px;
        }

        .main-content .card-extra .justify-content-end .atbd-button-list .data_btn1,
        .main-content .card-extra .justify-content-end .atbd-button-list .data_btn2,
        .main-content .card-extra .justify-content-end .atbd-button-list .form-control {
            height: 36px;
        }

        .main-content .card-extra .justify-content-end .atbd-button-list .data_btn1,
        .main-content .card-extra .justify-content-end .atbd-button-list .data_btn2 {
            width: 31px;
        }

        .btn-lg, .btn-group-lg > .btn {
            padding: 0px 19px;
        }

        .atbd-button-list button {
            margin: 5px 3px;
        }

        #data_upload2 .form-group button, #basic_file .form-group button {
            height: 34px;
            line-height: 2rem;
            font-size: 13px;
        }

        .box_center .buttonLi button {
            width: 32px;
            height: 32px;
            border: 2px solid #217566;
            background-color: transparent;
            border-radius: 50%;
        }

        .box_center .buttonLi button svg {
            display: none;
        }

        .box_center .buttonLi button span {
            position: relative;
        }

        .box_center .buttonLi button span::before {
            content: "";
            display: block;
            position: absolute;
            top: -1px;
            left: 0;
            width: 2px;
            height: 10px;
            background-color: #217566;
            transform: rotate(45deg);
        }

        .box_center .buttonLi button span::after {
            content: "";
            display: block;
            position: absolute;
            top: -7px;
            left: 0;
            width: 2px;
            height: 10px;
            background-color: #217566;
            transform: rotate(-45deg);
        }

        .box_center .buttonLi button span.left_btn::before {
            left: -2px;
            transform: rotate(-45deg);
        }

        .box_center .buttonLi button span.left_btn::after {
            left: -2px;
            transform: rotate(45deg);
        }

        #grid2 .tab-content .row .detail_list li {
            width: 100%;
            border-bottom: 1px solid #E2E3E5;
        }

        #grid2 .tab-content .row .list-group {
            width: 100%;
            margin: 0 !important;
        }

        #grid2 .tab-content .row .detail_list li:hover,
        #grid2 .tab-content .row .display_list li:hover {
            background-color: #EDF6F1;
        }

        #grid2 .tab-content .row .detail_list li.active,
        #grid2 .tab-content .row .display_list li.active {
            background-color: #217566;
            color: #fff;
            border: none;
        }

        #grid2 .tab-content .row .display_list li .row {
            margin-left: 0;
            margin-right: 0;
            display: block;
        }

        #grid2 input[type="checkbox"] {
            display: none !important;
        }

        #grid2 .tab-content .row li {
            padding: 0 10px !important;
        }

        input[type="text"].updateInput {
            border: none;
            height: 45px;
            text-align: center;
        }

        /* 푸터 배경색 */
        .footer-wrapper {
            background-color: #FCFCFC;
        }

        #basicGrid .tui-grid-body-area td[data-column-name='170'] {
            color: mediumblue;
            text-decoration: underline;
            cursor: pointer;
        }

        #basicGrid .tui-grid-body-area td[data-column-name='status']:first-line {
            color: #007bff;
            cursor: pointer;
        }

        #saveRow {
            float: right;
            color: #fff;
            background-color: #217566;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
        }

        #cancelRow {
            float: right;
            color: #217566;
            background-color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
        }

        .plus_btn_submit1 {
            display: none;
        }

        .bg-white .row {
            padding-top: 0;
        }
    </style>
</head>
<body class="layout-light top-menu overlayScroll">
<div class="mobile-search"></div>
<div class="mobile-author-actions"></div>
<!-- 공통 topbar -->
<th:block th:include="/../fragments/topbar.html"></th:block>
<main class="main-content" style="background-color: #FCFCFC;">
    <div class="contents" style="background-color: #FFFFFF;">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12 mb-30">
                    <div class="card">
                        <div class="card-extra mt-20 mr-20">
                            <div class="breadcrumb-main" style="float: left;">
                                <h4 class="text-capitalize breadcrumb-title">원종 관리</h4>
                                <input type="hidden" id="user_type" th:value="${user.user_type}">
                            </div>
                            <div class="action-btn d-flex justify-content-end">
                                <div class="atbd-button-list d-flex flex-wrap">
                                    <div class="btn-group atbd-button-group btn-group-normal my-2" role="group">
                                        <button type="button" class="btn btn-xs btn-outline-light" id="basicTable1">원종관리</button>
                                        <button type="button" class="btn btn-xs btn-outline-light" id="basicTable2">원종재고관리</button>
                                    </div>
                                    <select class="form-control form-control-lg mt-10 mb-10 mr-10" style="width: 250px; float: left;" id="limit">
                                        <option value="10">10개</option>
                                        <option value="20">20개</option>
                                        <option value="30">30개</option>
                                    </select>
                                    <select class="form-control form-control-lg mt-10 mb-10 mr-10" style="width: 250px;" id="CropSelect">
                                        <option value="고추">고추</option>
                                        <option value="대파">대파</option>
                                        <option value="멜론">멜론</option>
                                        <option value="무">무</option>
                                        <option value="배추">배추</option>
                                        <option value="수박">수박</option>
                                        <option value="양배추">양배추</option>
                                        <option value="양파">양파</option>
                                        <option value="참외">참외</option>
                                        <option value="토마토">토마토</option>
                                    </select>
                                    <button class="btn btn-lg btn-primary data_btn2" title="데이터 등록" onclick="openExcel()">
                                        <img src="../assets/vendor_assets/img/icon1.png" alt="">
                                    </button>
                                    <button class="btn btn-lg btn-primary data_btn2" title="표시항목 선택" onclick="DisplayBtn();">
                                        <img src="../assets/vendor_assets/img/icon3.png" alt="">
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class='card-extra mt-10 mb-10 mr-20 plus_btn_submit1'>
                            <button type='button' id="cancelRow" onclick="cancelRow()">취소</button>
                            <button type='button' id="saveRow" onclick="saveRow()">저장</button>
                        </div>
                        <div class="card-body" style="padding-top: 0;">
                            <div class="bg-white">
                                <div id="basicGrid"></div>
                                <div id="basicRemainGrid" style="visibility: hidden; height: 0;"></div>
                                <div class="row">
                                    <div class="col-4" id="btn1">
                                        <button class="btn btn-icon btn-light btn-circle" onclick="insertRow()">
                                            <span data-feather="plus"></span>
                                        </button>
                                        <button class="btn btn-icon btn-light btn-circle" onclick="DeleteBasic()">
                                            <span data-feather="trash-2"></span>
                                        </button>
                                        <button class="btn btn-icon btn-light btn-circle" id="data_check_submit" onclick="AnalysisBtn();" style="width:44.03px; height:42px;">
                                            <img src="../assets/vendor_assets/img/check_tab.png" alt="check" style="width: 17px;margin-left: 4px;">
                                        </button>
                                        <input type="hidden" id="offset">
                                    </div>
                                    <div class="col-4" id="btn2" style="display: none;">
                                        <button class="btn btn-icon btn-light btn-circle" onclick="InsertInventory()">
                                            <span data-feather="plus"></span>
                                        </button>
                                        <button class="btn btn-icon btn-light btn-circle" onclick="DeleteInventory()">
                                            <span data-feather="trash-2"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 첨부파일 목록창 -->
    <div class="modal-basic modal fade show pop7" id="basic_file" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 첨부파일</h6>
                    <span class="basic_title"></span>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <button onclick="InsertFileBtn()">데이터 등록</button>
                    </div>
                    <div>
                        <div class="atbd-upload">
                            <table>
                                <thead>
                                <tr>
                                    <th>순번</th>
                                    <th>제목</th>
                                    <th>날짜</th>
                                </tr>
                                </thead>
                                <tbody id="file_list">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 첨부파일 등록창 -->
    <div class="modal-basic modal fade show pop1" id="insert_file" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 첨부파일</h6>
                </div>
                <form action="insertBasicFile" id="insertFile" method="POST" enctype="multipart/form-data">
                    <div class="modal-body">
                        <div class="form-group mb-0">
                            <span>제목</span>
                            <input type="text" class="form-control form-control-lg inputText" name="basic_file_title">
                        </div>
                        <div class="form-group mb-0">
                            <textarea name="basic_file_contents" style="resize:none;"></textarea>
                        </div>
                        <div>
                            <div class="atbd-upload">
                                <div class="atbd-upload__button">
                                    <!--
                                    <a href="javascript:void(0)" class="btn btn-lg btn-outline-lighten btn-upload" onclick="$('#upload').click()">
                                        <span data-feather="upload"></span>첨부 파일
                                    </a>
                                    <input type="file" name="upload-3" class="upload-one" id="upload">
                                    -->
                                    <input type="file" id="upload_file" name="file">
                                </div>
                                <div class="atbd-upload__file">
                                    <ul>
                                        <li>
                                            <a href="" class="file-name">
                                                <i class="las la-paperclip"></i>
                                                <span class="name-text">xxx.png<span>
												</span></span>
                                            </a>
                                            <a href="" class="btn-delete">
                                                <i class="la la-trash"></i>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="border: none">
                        <input type="hidden" id="upload_id" name="basic_id">
                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                        <button type="button" class="btn btn-primary btn-sm" onclick="InsertFile()">저장</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 첨부파일 수정창 -->
    <div class="modal-basic modal fade show pop1" id="modify_file" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white ">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 첨부파일</h6>
                    <span class="basic_title"></span>
                </div>
                <form action="updateBasicFile" id="insertFile" method="POST" enctype="multipart/form-data">
                    <div class="modal-body">
                        <div class="form-group mb-0">
                            <span>제목</span>
                            <input type="text" class="form-control form-control-lg inputText" id="basic_file_title" name="basic_file_title">
                        </div>
                        <div class="form-group mb-0">
                            <textarea id="basic_file_contents" name="basic_file_contents" style="resize:none;"></textarea>
                        </div>
                        <div>
                            <div class="atbd-upload">
                                <div class="atbd-upload__button">
                                    <a href="" class="btn btn-lg btn-outline-lighten btn-upload" id="file_download">
                                        <span data-feather="upload"></span>
                                        <span id="uploads_origin_file"></span>
                                    </a>
                                    <input type="hidden" id="uploads_file" name="uploads_file">
                                    <input type="file" id="update_file" name="file">
                                </div>
                                <div class="atbd-upload__file">
                                    <ul>
                                        <li>
                                            <a href="" class="file-name">
                                                <i class="las la-paperclip"></i>
                                                <span class="name-text">xxx.png<span>
												</span></span>
                                            </a>
                                            <a href="" class="btn-delete"><i class="la la-trash"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="border: none">
                        <input type="hidden" id="basic_file_id" name="basic_file_id">
                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                        <button type="submit" class="btn btn-primary btn-sm">수정</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- 출력 헤더 선택 모달창 -->
    <div class="modal-basic modal fade show pop2" id="grid2" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <form action="insertBasicDisplay" method="POST" enctype="multipart/form-data">
                <div class="modal-content modal-bg-white">
                    <div class="modal-header" style="border: none">
                        <h6 class="modal-title" id="display_title"></h6>
                        <input type="hidden" id="display_name" name="basic_name">
                    </div>
                    <div class="modal-body">
                        <div class="tab-pane fade show active" id="control1" role="tabpanel" aria-labelledby="control1-tab">
                            <div class="tab-slide-content">
                                <div class="atbd-tab tab-horizontal">
                                    <div class="top_box">
                                        <ul class="nav nav-tabs vertical-tabs" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-0-tab" data-toggle="tab" href="#tab-horizontal-0" role="tab" aria-controls="tab-horizontal-0"
                                                   aria-selected="true">기본 정보</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-1-tab" data-toggle="tab" href="#tab-horizontal-1" role="tab" aria-controls="tab-horizontal-1"
                                                   aria-selected="false">원예형질[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-2-tab" data-toggle="tab" href="#tab-horizontal-2" role="tab" aria-controls="tab-horizontal-2"
                                                   aria-selected="false">원예형질[사내 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-3-tab" data-toggle="tab" href="#tab-horizontal-3" role="tab" aria-controls="tab-horizontal-3"
                                                   aria-selected="false">병저항성[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-4-tab" data-toggle="tab" href="#tab-horizontal-4" role="tab" aria-controls="tab-horizontal-4"
                                                   aria-selected="false">병저항성[사내 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-5-tab" data-toggle="tab" href="#tab-horizontal-5" role="tab" aria-controls="tab-horizontal-5"
                                                   aria-selected="false">성분정보[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-6-tab" data-toggle="tab" href="#tab-horizontal-6" role="tab" aria-controls="tab-horizontal-6"
                                                   aria-selected="false">마커정보</a>
                                            </li>
                                        </ul>
                                        <span class="prev"></span>
                                        <span class="next"></span>
                                    </div>
                                    <!-- <input type="hidden" id="detail_list1" name="detail_list"> -->
                                    <div class="tab-content">
                                        <div class="tab-pane fade show active" id="tab-horizontal-0" role="tabpanel" aria-labelledby="tab-horizontal-0-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center; align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; overflow-y: auto;">
                                                                                <ul class="detail_list" id="display_container1" name="기본 정보">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(1);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(1);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container1"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-1" role="tabpanel" aria-labelledby="tab-horizontal-1-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; orverfolw-y: auto;">
                                                                                <ul class="detail_list" id="display_container2" name="원예형질 (종자원 기준)">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(2);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(2);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container2"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-2" role="tabpanel" aria-labelledby="tab-horizontal-2-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; overflow-y: auto;">
                                                                                <ul class="detail_list" id="display_container3" name="원예형질 (사내 기준)">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(3);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(3);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container3"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-3" role="tabpanel" aria-labelledby="tab-horizontal-3-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; orverfolw-y: auto;">
                                                                                <ul class="detail_list" id="display_container4" name="병저항성 (국립종자원 기준)">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(4);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(4);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container4"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-4" role="tabpanel" aria-labelledby="tab-horizontal-4-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; orverfolw-y: auto;">
                                                                                <ul class="detail_list" id="display_container5" name="병저항성 (사내 기준)">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(5);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(5);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container5"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-5" role="tabpanel" aria-labelledby="tab-horizontal-5-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; orverfolw-y: auto;">
                                                                                <ul class="detail_list" id="display_container6" name="성분정보 (국립종자원 기준)">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(6);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(6);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container6"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade show" id="tab-horizontal-6" role="tabpanel" aria-labelledby="tab-horizontal-6-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <div class="row mt-20">
                                                    <div class="col-lg-12">
                                                        <div class="card">
                                                            <div class="card-body">
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <span class="color-dark align-center" style="font-size: 20px;">표시항목 설정</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4" style="justify-content: center;align-items: center;">
                                                                    <div class="col-lg-5">
                                                                        <div class="row" style="overflow:auto; min-height: 500px; border: 1px solid #D9D9D9;">
                                                                            <div class="list-group mt-2" style="max-height: 500px; orverfolw-y: auto;">
                                                                                <ul class="detail_list" id="display_container7" name="마커 정보">
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="box_content">
                                                                        <div class="box_center">
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="PlusResearch(7);"><span></span></button>
                                                                            </div>
                                                                            <div class="buttonLi">
                                                                                <button type="button" onclick="MinusResearch(7);"><span class="left_btn"></span></button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-5" style="padding:0;">
                                                                        <ul class="display_list" id="step_container7"
                                                                            style="min-height: 500px; max-height: 500px; overflow-y: auto; border: 1px solid #D9D9D9">
                                                                        </ul>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="border: none">
                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                        <button type="submit" class="btn btn-primary btn-sm">저장</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- 등록정보 수정 모달창 -->
    <div class="modal-basic modal fade show pop6" id="grid3" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <form action="updateAllBasic" id="updateAllForm" method="POST" enctype="multipart/form-data">
                <input type="hidden" id="basic_id" name="basic_id">
                <div class="modal-content modal-bg-white">
                    <div class="modal-header" style="border: none">
                        <h6 class="modal-title" id="display_title2"></h6>
                    </div>
                    <div class="modal-body">
                        <div class="tab-pane fade show active" id="control1" role="tabpanel" aria-labelledby="control1-tab">
                            <div class="tab-slide-content">
                                <div class="atbd-tab tab-horizontal">
                                    <div class="top_box">
                                        <ul class="nav nav-tabs vertical-tabs" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="tab-horizontal-0-tab" data-toggle="tab" href="#tab-horizontal-0" role="tab"
                                                   aria-controls="tab-horizontal-0" aria-selected="true">기본 정보</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link active" id="tab-horizontal-1-tab" data-toggle="tab" href="#tab-horizontal-1" role="tab"
                                                   aria-controls="tab-horizontal-1" aria-selected="false">원예형질[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-2-tab" data-toggle="tab" href="#tab-horizontal-2" role="tab" aria-controls="tab-horizontal-2"
                                                   aria-selected="false">원예형질[사내 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-3-tab" data-toggle="tab" href="#tab-horizontal-3" role="tab" aria-controls="tab-horizontal-3"
                                                   aria-selected="false">병저항성[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-4-tab" data-toggle="tab" href="#tab-horizontal-4" role="tab" aria-controls="tab-horizontal-4"
                                                   aria-selected="false">병저항성[사내 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-5-tab" data-toggle="tab" href="#tab-horizontal-5" role="tab" aria-controls="tab-horizontal-5"
                                                   aria-selected="false">성분정보[종자원 기준]</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="tab-horizontal-6-tab" data-toggle="tab" href="#tab-horizontal-6" role="tab" aria-controls="tab-horizontal-6"
                                                   aria-selected="false">마커정보</a>
                                            </li>
                                        </ul>
                                        <span class="prev"></span>
                                        <span class="next"></span>
                                    </div>
                                    <input type="hidden" id="detail_list" name="detail_list">
                                    <div class="tab-content">
                                        <div class="tab-pane fade show active" id="tab-horizontal-0" role="tabpanel" aria-labelledby="tab-horizontal-0-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="기본 정보">
                                                    <li>
                                                        <div class="title">작물</div>
                                                        <div class="input_text"><input type="text" name="basic_name"></div>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-1" role="tabpanel" aria-labelledby="tab-horizontal-1-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="원예형질 (종자원 기준)">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-2" role="tabpanel" aria-labelledby="tab-horizontal-2-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="원예형질 (사내 기준)">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-3" role="tabpanel" aria-labelledby="tab-horizontal-3-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="병저항성 (종자원 기준)">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-4" role="tabpanel" aria-labelledby="tab-horizontal-4-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="병저항성 (사내 기준)">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-5" role="tabpanel" aria-labelledby="tab-horizontal-5-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="성분정보 (국립종자원 기준)">
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="tab-pane fade" id="tab-horizontal-6" role="tabpanel" aria-labelledby="tab-horizontal-6-tab">
                                            <div class="content_title clearfix">
                                                <ul>
                                                    <li>형질</li>
                                                    <li>조사값</li>
                                                </ul>
                                            </div>
                                            <div class="content_1 clearfix">
                                                <ul class="detail_list2" name="마커정보">
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer" style="border: none">
                        <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" onclick="UpdateAllBtn();">저장</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- 계통명 팝업 : 품종 -->
    <div class="modal-basic modal fade show pop7" id="pop_breed" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 품종관리</h6>
                    <span class="breed_title"></span>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <div class="btn-group atbd-button-group btn-group-normal my-2" role="group">
                            <ul class="nav nav-tabs vertical-tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="pop_nav-link active" id="tab-horizontal-0-tab-0" data-toggle="tab" href="#tab-horizontal-0-0" role="tab"
                                       aria-controls="tab-horizontal-0-0" aria-selected="true">품종관리</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <div class="atbd-upload popAdd tab-pane fade show active" id="tab-horizontal-0-0" role="tabpanel" aria-labelledby="tab-horizontal-0-tab-0"
                             style=" overflow: auto; max-height: 500px;">
                            <div class="table-responsive">
                                <table class="table" id="display">
                                    <thead class="text-center" id="breed_header_list">
                                    </thead>
                                    <tbody class="text-center" id="breed_breed_list">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                </div>
            </div>
        </div>
    </div>

    <!-- 종자번호 팝업 : 재고관리 -->
    <div class="modal-basic modal fade show pop7" id="pop_seed" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종재고관리</h6>
                    <span class="seed_title"></span>
                </div>
                <div class="modal-body">
                    <div>
                        <div class="atbd-upload">
                            <div class="table-responsive">
                                <table class="table table2">
                                    <thead class="text-center">
                                    <tr>
                                        <th style="cursor: pointer;"><span class="title">순번</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="순번"></th>
                                        <th style="cursor: pointer;"><span class="title">종자번호(ID)</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="종자번호(ID)"></th>
                                        <th style="cursor: pointer;"><span class="title">종자 보유량</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="종자 보유량"></th>
                                        <th style="cursor: pointer;"><span class="title">입고량</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="입고량"></th>
                                        <th style="cursor: pointer;"><span class="title">출고량</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="출고량"></th>
                                        <th style="cursor: pointer;"><span class="title">재고량</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="재고량"></th>
                                        <th style="cursor: pointer;"><span class="title">담당자</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="담당자"></th>
                                        <th style="cursor: pointer;"><span class="title">일자</span><img
                                            src="../assets/vendor_assets/img/title_icon.png"
                                            alt="일자"></th>
                                    </tr>
                                    </thead>
                                    <tbody class="text-center outcome_list">
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                </div>
            </div>
        </div>
    </div>

    <!-- 데이터 목록 창 -->
    <div class="modal-basic modal fade show pop7" id="data_upload2" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white ">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 데이터 등록</h6>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <button onclick="dataToggle('#data_upload2', '#data_upload');">데이터 등록</button>
                        <button>등록서식 다운로드</button>
                    </div>
                    <div>
                        <div class="atbd-upload">
                            <table>
                                <thead>
                                <tr>
                                    <th>순번</th>
                                    <th>등록일</th>
                                    <th>데이터수</th>
                                </tr>
                                </thead>
                                <tbody id="uploadDate">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 데이터 등록 모달창 -->
    <div class="modal-basic modal fade show pop5" id="data_upload" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white ">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종관리 > 데이터 등록</h6>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <input type="text" class="form-control form-control-lg" placeholder="Click to Upload">
                        <input type="file" id="excelFile" onchange="excelExport(event)" style="display: none">
                        <button onclick="filesFunction()">불러오기</button>
                        <input type="file" name="" id="file_data_upload" style="display: none;">
                    </div>
                    <div>
                        <form action="excelBasic" id="excelForm" method="POST" enctype="multipart/form-data">
                            <input type="hidden" id="excel_list" name="excel_list">
                            <div class="atbd-upload">
                                <table id="excel_data">
                                    <thead>
                                    <th><span class="title">작물</span></th>
                                    <th><span class="title">시교명(ID)</span></th>
                                    <th><span class="title">목표 지역</span></th>
                                    <th><span class="title">구분</span></th>
                                    <th><span class="title">교배번호</span></th>
                                    <th><span class="title">종자번호(ID)</span></th>
                                    <th><span class="title">현 종자량(g)</span></th>
                                    <th><span class="title">기내 발아율(%)</span></th>
                                    <th><span class="title">기내 순도율(%)</span></th>
                                    <th><span class="title">비고</span></th>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" onclick="dataToggle('#data_upload', '#data_upload2');">취소</button>
                    <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" onclick="dataToggle('#data_upload', '#data_upload2'); InsertExcel();">등록</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 재고관리 목록 창 -->
    <div class="modal-basic modal fade show pop7" id="data_upload21" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white ">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종재고관리 > 데이터 등록</h6>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <button onclick="dataToggle('#data_upload21', '#data_upload11');">데이터 등록</button>
                        <button>등록서식 다운로드</button>
                    </div>
                    <div>
                        <div class="atbd-upload">
                            <table>
                                <thead>
                                <tr>
                                    <th>순번</th>
                                    <th>등록일</th>
                                    <th>데이터수</th>
                                </tr>
                                </thead>
                                <tbody id="uploadDate1">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">취소</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 재고관리 등록 모달창 -->
    <div class="modal-basic modal fade show pop5" id="data_upload11" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content modal-bg-white ">
                <div class="modal-header" style="border: none">
                    <h6 class="modal-title">원종재고관리 > 데이터 등록</h6>
                </div>
                <div class="modal-body">
                    <div class="form-group mb-0">
                        <input type="text" class="form-control form-control-lg" placeholder="Click to Upload">
                        <input type="file" id="excelFile1" onchange="excelExport(event)" style="display: none">
                        <button onclick="filesFunction()">불러오기</button>
                        <input type="file" name="" id="file_data_upload1" style="display: none;">
                    </div>
                    <div>
                        <form action="excelRemain" id="excelForm1" method="POST" enctype="multipart/form-data">
                            <input type="hidden" id="excel_list1" name="excel_list">
                            <div class="atbd-upload">
                                <table id="excel_data1">
                                    <thead>
                                    <th><span class="title">작물</span></th>
                                    <th><span class="title">시교명(ID)</span></th>
                                    <th><span class="title">목표 지역</span></th>
                                    <th><span class="title">구분</span></th>
                                    <th><span class="title">교배번호</span></th>
                                    <th><span class="title">종자번호(ID)</span></th>
                                    <th><span class="title">현 종자량(g)</span></th>
                                    <th><span class="title">기내 발아율(%)</span></th>
                                    <th><span class="title">기내 순도율(%)</span></th>
                                    <th><span class="title">비고</span></th>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer" style="border: none">
                    <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal" onclick="dataToggle('#data_upload11', '#data_upload21');">취소</button>
                    <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" onclick="dataToggle('#data_upload11', '#data_upload21'); InsertExcel();">등록</button>
                </div>
            </div>
        </div>
    </div>

</main>
<!-- 공통 하단 -->
<th:block th:include="/../fragments/footer.html"></th:block>
<!-- 공통 js -->
<th:block th:include="/../fragments/commonjs.html"></th:block>

<script type="text/javascript">
    function dataToggle(one, two) {
        $(one).modal("hide");

        setTimeout(function () {
            $(two).modal("show");
        }, 5);
    }

    let topBox = document.getElementsByClassName("top_box");
    let navN = 0; //선택된 변수

    for (let k = 0; k < topBox.length; k++) {
        let [nav, prev, next] = topBox[k].children;
        let navLi = nav.children;
        let navMove = 0;

        let content = document.getElementsByClassName("tab-content")[k];
        let contentLi = content.children;

        navLi[navN].classList.add("active");

        for (let i = 0; i < navLi.length; i++) {
            navLi[i].idx = i;

            navLi[i].addEventListener("click", function (e) {
                navN = e.currentTarget.idx;
                moveFunction(navN);
            });
        }

        let list = navLi.length;

        next.addEventListener("click", function (e) {
            (navN < list - 1) ? navN += 1 : navN = list - 1;
            moveFunction(navN);
        });

        prev.addEventListener("click", function (e) {
            (navN > 0) ? navN -= 1 : navN = 0;
            moveFunction(navN);
        });

        function moveFunction(f) {
            for (let h = 0; h < navLi.length; h++) {
                navLi[h].classList.remove("active");
                contentLi[h].classList.remove("active");
            }


            let navW = navLi[f].offsetWidth;
            navMove = navW * f;
            let a = topBox[k].offsetWidth;
            let b = nav.offsetWidth;
            let c = b - a;
            let d = c + 40 + "px";

            if (navMove > c) {
                nav.style.marginLeft = "-" + d;
            } else {
                nav.style.marginLeft = "-" + navMove + "px";
            }

            navLi[f].classList.add("active");
            contentLi[f].classList.add("active");
            contentLi[f].classList.add("show");
        }
    }

    /* form data to json */
    jQuery.fn.serializeObject = function () {
        var obj = null;
        try {
            if (this[0].tagName && this[0].tagName.toUpperCase() == "FORM") {
                var arr = this.serializeArray();
                if (arr) {
                    obj = {};
                    jQuery.each(arr, function () {
                        obj[this.name] = this.value;
                    });
                }
            }
        } catch (e) {
            alert(e.message);
        } finally {
        }

        return obj;
    };

    function UpdateAllBtn() {
        $("#updateAllForm").submit();
    }

    var tablechk = 0;

    $("#basicTable1").click(function () {
        tablechk = 0;
    })

    $("#basicTable2").click(function () {
        tablechk = 1;
    })

    // 원종 목록
    $(document).ready(function () {
        SearchBasic(1);
        SearchBasicgrid(1);
        SearchBasicRemain(1);
    });

    $("#CropSelect").change(function () {
        SearchBasic(1);
        OtherBasicgrid(1);
        OtherBasicRemain(1);
    })

    // 갯수 선택
    $("#limit").change(function () {
        SearchBasic(1);
        OtherBasicgrid(1);
        OtherBasicRemain(1);
    })

    // 원종 삭제
    function DeleteBasic() {
        var user_type = $("#user_type").val();

        if (user_type != 0) {
            return Alert("삭제 권한이 없습니다.");
        } else {
            if (tablechk === 0) {
                var total_id = [];

                var l = basicgrid.getCheckedRows().length;

                for (let i = 0; i < l; i++) {
                    total_id.push(basicgrid.getCheckedRows()[i].basic_id)
                }

                var data = {'basic_id': total_id};

                if (confirm("삭제하시겠습니까?") == true) {
                    $.ajax(
                        {
                            url: 'deleteBasic',
                            method: 'POST',
                            dataType: 'json',
                            data: data,
                            success: function (result) {
                                if (result == 0) {
                                    return Alert("삭제에 실패하였습니다.");
                                } else {
                                    location.reload();
                                }
                            }
                        });
                } else {
                    return false;
                }
            } else {
                var total_id1 = [];

                var l1 = basicRemainGrid.getCheckedRows().length;

                for (let i = 0; i < l1; i++) {
                    total_id1.push(basicRemainGrid.getCheckedRows()[i].basic_remain_id)
                }

                var data1 = {'basic_remain_id': total_id1};

                if (confirm("삭제하시겠습니까?") == true) {
                    $.ajax(
                        {
                            url: 'deleteBasicRemain',
                            method: 'POST',
                            dataType: 'json',
                            data: data1,
                            success: function (result) {
                                if (result == 0) {
                                    return Alert("삭제에 실패하였습니다.");
                                } else {
                                    location.reload();
                                }
                            }
                        });
                } else {
                    return false;
                }
            }
        }
    }

    // 표시항목 버튼
    function DisplayBtn() {
        $("#display_title").text("원종관리 > " + $("#CropSelect").val());
        $("#display_name").val($("#CropSelect").val());

        $("#grid2").modal("show");
    }

    // 특성상태 버튼
    function EmptyBtn(e) {
        $("#display_title2").text("원종관리 > " + $("#CropSelect").val());
        $("#display_name2").val($("#CropSelect").val());

        $("#basic_id").val(e);
        $("#grid3").modal("show");

        var data = {"basic_id": e};

        $.ajax(
            {
                url: 'selectBasicStandard',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    var empty_list = $(".empty_list");

                    for (var i = 0; i < empty_list.length; i++) {
                        empty_list.eq(i).val(result[i].standard);
                    }
                }
            });
    }

    /* 헤더 선택 */
    function PlusResearch(e) {
        var step_container = $("#step_container" + e);
        var length = step_container.children().length;

        var add_list = "";

        $(document).find("input:checkbox[name=chk_research]:checked").each(function () {
            var research_id = $(this).val();
            var research_title = $(this).next().text();

            if (length == 0) {
                length = 1;
            } else {
                length++;
            }

            add_list += '<div data-id="' + research_id + '" class="list-group step">';
            add_list += '<li class="list-group-item-sm list-group-item">';
            add_list += '<div class="row">';
            add_list += '<input type="checkbox" class="checkbox mr-2" name="mis_research">';
            add_list += '<input type="hidden" name="detail_id" value="' + research_id + '">';
            add_list += '<span class="research-title">' + research_title + '</span>';
            add_list += '</div>';
            add_list += '</li>';
            add_list += '</div>';

            $(this).parent().remove();
        });

        step_container.append(add_list);
        checkFunction()
    }

    //조사방법 체크박스 삭제
    function MinusResearch(e) {
        var display_container = $("#display_container" + e);
        var length = display_container.children().length;

        var add_list = "";

        //체크박스 삭제
        $(document).find("input:checkbox[name=mis_research]:checked").each(function () {
            var research_id = $(this).val();
            var research_title = $(this).next().text();

            if (length == 0) {
                length = 1;
            } else {
                length++;
            }

            add_list += '<li>';
            add_list += '<input type="checkbox" class="check_box" name="chk_research">';
            add_list += '<div class="title">' + research_title + '</div>';
            add_list += '</li>';

            $(this).parent().parent().remove();
        });

        display_container.append(add_list);
        checkFunction()
    }

    // 통합 분석
    function AnalysisBtn() {
        var total_id = [];

        var l = basicgrid.getCheckedRows().length;

        for (let i = 0; i < l; i++) {
            total_id.push(basicgrid.getCheckedRows()[i].basic_id)
        }

        if (total_id.length != 0) {
            location.href = "/analysis?total_id=" + total_id + "&type=" + 2;
        }
    }

    function FileBtn(e) {
        $("#basic_file").modal("show");

        var data = {"basic_id": e};

        $.ajax(
            {
                url: 'selectBasicFile',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    $("#upload_id").val(e);
                    $(".basic_title").text("시교명 : " + result.basic.standard);

                    var file_list = $("#file_list");
                    var file_add = "";

                    for (var i = 0; i < result.basic_file.length; i++) {
                        var file = JSON.stringify(result.basic_file[i]);
                        var file_json = file.replace(/\"/g, "&quot;");

                        file_add += '<tr>';
                        file_add += '<td>' + (i + 1) + '</td>';
                        file_add += '<td><button onclick="ModifyBtn(' + result.basic_file[i].basic_file_id + ')" style="border:0px; color:blue; background: white;">' + result.basic_file[i].basic_file_title + '</button></td>';
                        file_add += '<td>' + result.basic_file[i].create_date + '</td>';
                        file_add += '<td><input type="hidden" id="file_' + result.basic_file[i].basic_file_id + '" value="' + file.replace(/\"/g, "&quot;") + '"></td>';
                        file_add += '</tr>';
                    }

                    file_list.empty();
                    file_list.append(file_add);
                }
            });
    }

    function InsertFileBtn() {
        $("#basic_file").modal("hide");
        $("#insert_file").modal("show");
    }

    function InsertFile() {
        var file = $("#upload_file");

        if (file.val() == "") {
            return Alert("파일을 선택해주세요.");
        } else {
            $("#insertFile").submit();
        }
    }

    function ModifyBtn(e) {
        var files = JSON.parse($("#file_" + e).val());

        $("#basic_file_id").val(files.basic_file_id);
        $("#basic_file_title").val(files.basic_file_title);
        $("#basic_file_contents").val(files.basic_file_contents);
        $("#uploads_origin_file").text(files.uploads_origin_file);
        $("#uploads_file").val(files.uploads_file);
        $("#file_download").attr("href", "downloadFile?uploads_file=" + files.uploads_file);

        $("#basic_file").modal("hide");
        $("#modify_file").modal("show");
    }

    function checkFunction() {// 박스안 리스트 클릭시 체크박스 체크
        $('#grid2 .tab-content .row li').off('click').on('click', function (e) {
            e.preventDefault();

            $(this).toggleClass("active");
            if ($(this).hasClass("active") == true) {
                $(this).find("input[type='checkbox']").eq(0).prop("checked", true);
            } else {
                $(this).find("input[type='checkbox']").eq(0).prop("checked", false);
            }
        });
    }

    function InsertInventory(e) {
        console.log(123);
    }

    function DeleteInventory(e) {
        console.log(456);
    }

    var tablechk = 0;

    $("#basicTable1").click(function () {
        tablechk = 0;
        $("#basicGrid").css("display", "block");
        $("#basicRemainGrid").css("display", "none");
    })

    $("#basicTable2").click(function () {
        tablechk = 1;
        $("#basicGrid").css("display", "none");
        $("#basicRemainGrid").css({"display": "block", "visibility": "", "height": "auto"});
    })

    var basicgrid = null;

    function SearchBasicgrid(e) {
        var basic_name = $("#CropSelect").val();
        var limit = $("#limit").val();

        var data = {"basic_name": basic_name, "page_num": e, "limit": limit};

        $.ajax(
            {
                url: 'searchBasic',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    basicgrid = new tui.Grid({
                        el: document.getElementById('basicGrid'),
                        scrollX: true,
                        scrollY: false,
                        data: result.basic,
                        rowHeaders: ['checkbox'],
                        editingEvent: 'click',
                        columns: [],
                        pageOptions: {
                            perPage: limit,
                        }
                    });

                    const headerArr = [
                        {
                            'header': '첨부파일',
                            'name': 'file',
                            'width': 100
                        },
                        {
                            'header': '특성상태',
                            'name': 'status',
                            'width': 150
                        }
                    ];

                    var headerName = [];

                    var arr = {};

                    for (let i = 0; i < result.display.length; i++) {
                        var colHeader = result.display[i].detail_title;
                        var colName = result.display[i].detail_id;
                        headerName[i] = result.display[i].detail_id;

                        if (result.display[i].detail_spec == '기본 정보') {
                            arr = {'header': colHeader, 'name': colName, 'editor': 'text', 'sortable': 'true', 'sortingType': 'asc', 'width': 180}
                        } else {
                            arr = {'header': colHeader, 'name': colName, 'editor': 'text', 'sortable': 'true', 'sortingType': 'asc', 'width': 500}
                        }

                        headerArr.push(arr);
                    }

                    basicgrid.setColumns(headerArr);

                    const dataArr = [];

                    for (let i = 0; i < result.basic.length; i++) {
                        let rowArr = {};

                        rowArr = {'file': '<i class="bi bi-file-earmark-arrow-down"></i>', 'basic_id': result.basic[i].basic_id};

                        if (result.basic[i].standard_count == 0) {
                            rowArr['status'] = '<span style="color:red">EMPTY</span>';

                        } else {
                            rowArr['status'] = '<span style="color:blue">PROGRESS</span>';
                        }

                        for (var j = 0; j < result.basic[i].basic_standard.length; j++) {
                            var rowData = result.basic[i].basic_standard[j].standard;
                            rowArr[headerName[j]] = rowData;
                        }

                        dataArr.push(rowArr);
                    }

                    basicgrid.resetData(dataArr);

                    basicgrid.on('click', (ev) => {
                        if (ev.targetType === 'cell' && ev.columnName === '170') {
                            var value_basic = ev.nativeEvent.srcElement;

                            SearchBreed(value_basic);
                        } else if (ev.targetType === 'cell' && ev.columnName === 'status') {
                            var e_id = basicgrid.getRow(ev.rowKey).basic_id;

                            EmptyBtn(e_id);
                        }
                    });

                    var before = null;
                    var after = null;

                    basicgrid.on('afterChange', (ev) => {
                        for (let i = 0; i < ev.changes.length; i++) {
                            before = ev.changes[i].prevValue;
                            after = ev.changes[i].value;

                            if (after != before) {
                                var basic_id = basicgrid.getRow(ev.changes[i].rowKey).basic_id;
                                var detail_id = ev.changes[i].columnName;
                                var standard = after;

                                var data = {"basic_id": basic_id, "detail_id": detail_id, "standard": standard};

                                if (basic_id != null) {
                                    $.ajax(
                                        {
                                            url: 'updateBasic',
                                            method: 'POST',
                                            dataType: 'json',
                                            data: data,
                                            success: function (result) {
                                                if (result == 0) {
                                                    return Alert("수정에 실패하였습니다.")
                                                }
                                            }
                                        });
                                }
                            }
                        }
                    });
                }
            });
    }

    function OtherBasicgrid(e) {
        var basic_name = $("#CropSelect").val();
        var limit = $("#limit").val();

        var data = {"basic_name": basic_name, "page_num": e, "limit": limit};

        $.ajax(
            {
                url: 'searchBasic',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    const headerArr = [
                        {
                            'header': '첨부파일',
                            'name': 'file',
                            'width': 100
                        },
                        {
                            'header': '특성상태',
                            'name': 'status',
                            'width': 150
                        }
                    ];

                    var headerName = [];

                    for (let i = 0; i < result.display.length; i++) {
                        var colHeader = result.display[i].detail_title;
                        var colName = result.display[i].detail_id;
                        headerName[i] = result.display[i].detail_id;

                        if (result.display[i].detail_spec == '기본 정보') {
                            arr = {'header': colHeader, 'name': colName, 'editor': 'text', 'sortable': 'true', 'sortingType': 'asc', 'width': 180}
                        } else {
                            arr = {'header': colHeader, 'name': colName, 'editor': 'text', 'sortable': 'true', 'sortingType': 'asc', 'width': 500}
                        }

                        headerArr.push(arr);
                    }

                    basicgrid.setColumns(headerArr);

                    const dataArr = [];

                    for (let i = 0; i < result.basic.length; i++) {
                        let rowArr = {};

                        rowArr = {'file': '<i class="bi bi-file-earmark-arrow-down"></i>', 'basic_id': result.basic[i].basic_id};

                        if (result.basic[i].standard_count == 0) {
                            rowArr['status'] = '<span style="color:red">EMPTY</span>';

                        } else {
                            rowArr['status'] = '<span style="color:blue">PROGRESS</span>';
                        }

                        for (var j = 0; j < result.basic[i].basic_standard.length; j++) {
                            var rowData = result.basic[i].basic_standard[j].standard;
                            rowArr[headerName[j]] = rowData;
                        }

                        dataArr.push(rowArr);
                    }

                    basicgrid.resetData(dataArr);

                    basicgrid.on('click', (ev) => {
                        if (ev.targetType === 'cell' && ev.columnName === '170') {
                            var value_sample = ev.nativeEvent.srcElement;

                            SearchBreed(value_sample);
                        } else if (ev.targetType === 'cell' && ev.columnName === 'status') {
                            var e_id = basicgrid.getRow(ev.rowKey).basic_id;

                            EmptyBtn(e_id);
                        }
                    });

                    var before = null;
                    var after = null;

                    basicgrid.on('afterChange', (ev) => {
                        for (let i = 0; i < ev.changes.length; i++) {
                            before = ev.changes[i].prevValue;
                            after = ev.changes[i].value;

                            if (after != before) {
                                var basic_id = basicgrid.getRow(ev.changes[i].rowKey).basic_id;
                                var detail_id = ev.changes[i].columnName;
                                var standard = after;

                                var data = {"basic_id": basic_id, "detail_id": detail_id, "standard": standard};

                                if (basic_id != null) {
                                    $.ajax(
                                        {
                                            url: 'updateBasic',
                                            method: 'POST',
                                            dataType: 'json',
                                            data: data,
                                            success: function (result) {
                                                if (result == 0) {
                                                    return Alert("수정에 실패하였습니다.")
                                                }
                                            }
                                        });
                                }
                            }
                        }
                    });
                }
            });
    }

    function SearchBasicRemain(e) {
        var basic_name1 = $("#CropSelect").val();
        var limit1 = $("#limit").val();

        var data1 = {"basic_name": basic_name1, "page_num": e, "limit": limit1};

        $.ajax(
            {
                url: 'searchBasicRemain',
                method: 'POST',
                dataType: 'json',
                data: data1,
                success: function (result1) {
                    basicRemainGrid = new tui.Grid({
                        el: document.getElementById('basicRemainGrid'),
                        scrollX: false,
                        scrollY: false,
                        data: result1.basicRemain,
                        rowHeaders: ['checkbox'],
                        columns: [
                            {
                                header: '도입번호(ID)',
                                name: 'basic_remain_num',
                                editor: 'text',
                                sortable: true
                            },
                            {
                                header: '종자 보유량',
                                name: 'basic_remain_amount',
                                editor: 'text',
                                sortable: true
                            },
                            {
                                header: '입고량',
                                name: 'basic_remain_in',
                                editor: 'text',
                                sortable: true
                            },
                            {
                                header: '출고량',
                                name: 'basic_remain_out',
                                editor: 'text',
                                sortable: true
                            },
                            {
                                header: '재고량',
                                name: 'basic_remain_re',
                                editor: 'text',
                                sortable: true
                            },
                            {
                                header: '담당자',
                                name: 'basic_remain_person',
                                editor: 'text',
                                filter: 'number',
                                sortable: true
                            },
                            {
                                header: '일자',
                                name: 'basic_remain_date',
                                editor: 'text',
                                filter: 'number',
                                sortable: true
                            }
                        ],
                        pageOptions: {
                            perPage: limit1,
                        }
                    });

                    var before = null;
                    var after = null;

                    basicRemainGrid.on('afterChange', (ev) => {
                        before = ev.changes[0].prevValue;
                        after = ev.changes[0].value;

                        if (after != before) {
                            var basic_remain_id = basicRemainGrid.getRow(ev.changes[0].rowKey).basic_remain_id;
                            var basic_remain_name = ev.changes[0].columnName;
                            var basic_remain_value = after;

                            var data = {"basic_remain_id": basic_remain_id, "basic_remain_name": basic_remain_name, "basic_remain_value": basic_remain_value};

                            if (basic_remain_id != null) {
                                $.ajax(
                                    {
                                        url: 'updateBasicRemain',
                                        method: 'POST',
                                        dataType: 'json',
                                        data: data,
                                        success: function (result) {
                                            if (result == 0) {
                                                return Alert("수정에 실패하였습니다.")
                                            }
                                        }
                                    });
                            }
                        }
                    });

                }
            });
    }

    function OtherBasicRemain(e) {
        var basic_name1 = $("#CropSelect").val();
        var limit1 = $("#limit").val();

        var data1 = {"basic_name": basic_name1, "page_num": e, "limit": limit1};

        $.ajax(
            {
                url: 'searchBasicRemain',
                method: 'POST',
                dataType: 'json',
                data: data1,
                success: function (result1) {
                    basicRemainGrid.resetData(result1.basicRemain);

                    basicRemainGrid.setPerPage(limit1);

                    var before = null;
                    var after = null;

                    basicRemainGrid.on('afterChange', (ev) => {
                        before = ev.changes[0].prevValue;
                        after = ev.changes[0].value;

                        if (after != before) {
                            var basic_remain_id = basicRemainGrid.getRow(ev.changes[0].rowKey).basic_remain_id;
                            var basic_remain_name = ev.changes[0].columnName;
                            var basic_remain_value = after;

                            var data = {"basic_remain_id": basic_remain_id, "basic_remain_name": basic_remain_name, "basic_remain_value": basic_remain_value};

                            if (basic_remain_id != null) {
                                $.ajax(
                                    {
                                        url: 'updateBasicRemain',
                                        method: 'POST',
                                        dataType: 'json',
                                        data: data,
                                        success: function (result) {
                                            if (result == 0) {
                                                return Alert("수정에 실패하였습니다.")
                                            }
                                        }
                                    });
                            }
                        }
                    });
                }
            });
    }

    var lastID = 0;
    var saveDetail_id = [];
    var saveStandard = [];

    function insertRow() {
        var user_type = $("#user_type").val();

        if (user_type != 0 && user_type != 2) {
            return Alert("등록 권한이 없습니다.");
        } else {
            $(".plus_btn_submit1").css("display", "block");

            if (tablechk == 0) {
                var cnt = basicgrid.getRowCount();

                const newRow = {'169': $("#CropSelect").val()};

                basicgrid.prependRow(newRow);
                basicgrid.check(cnt);
            } else {
                var cnt1 = basicRemainGrid.getRowCount();

                const newRow = {basic_name: $("#CropSelect").val()};

                basicRemainGrid.prependRow(newRow);
                basicRemainGrid.check(cnt1);

                var input_data1 = [];

                input_data1.push(basicRemainGrid.getCheckedRows()[0]);

                $.ajax(
                    {
                        url: 'insertBasicRemain',
                        method: 'POST',
                        dataType: 'json',
                        data: {"input_data": JSON.stringify(input_data1)},
                        success: function (result) {
                            if (result != null) {
                                lastID = result.basic_remain_id;
                            }
                        }
                    });
            }
        }
    }

    function saveRow() {
        if (tablechk == 0) {
            let input_data = [];

            input_data.push(basicgrid.getCheckedRows()[0]);

            $.ajax(
                {
                    url: 'insertBasic',
                    method: 'POST',
                    dataType: 'json',
                    data: {
                        "input_data": JSON.stringify(input_data)
                    },
                    success: function (result) {
                        if (result != null) {
                            console.log(result);
                        }
                    }
                });
        } else {
            var data1 = [];

            var data_in1 = basicRemainGrid.getCheckedRows()[0];

            data1.push(data_in1);

            $.ajax(
                {
                    url: 'updateInsertBasicRemain',
                    method: 'POST',
                    dataType: 'json',
                    data: {
                        "data": JSON.stringify(data1)
                    },
                    success: function (result) {
                        if (result == 0) {
                            return Alert("저장에 실패하였습니다.");
                        } else {
                            location.reload();
                        }
                    }
                });
        }

    }

    function cancelRow() {
        if (tablechk === 0) {
            basicgrid.removeCheckedRows();
        } else {
            basicRemainGrid.removeCheckedRows();
        }

        $(".plus_btn_submit1").css("display", "none");
    }

    /* 엑셀 업로드 버튼 */
    function filesFunction() {
        if (tablechk === 0) {
            let filesBtn = document.getElementById("excelFile");
            var eventList = document.createEvent("MouseEvent");

            eventList.initEvent("click");
            filesBtn.dispatchEvent(eventList);
        } else {
            let filesBtn = document.getElementById("excelFile1");
            var eventList1 = document.createEvent("MouseEvent");

            eventList1.initEvent("click");
            filesBtn.dispatchEvent(eventList1);
        }
    }

    /* 엑셀 업로드 목록창 */

    /* 엑셀 코드 */
    function handleExcelDataAll(sheet) {
        handleExcelDataHtml(sheet); // html 형태
    }

    /* Html 형태로 출력 */
    function handleExcelDataHtml(sheet) {
        $("#displayExcelHtml").html(XLSX.utils.sheet_to_html(sheet));
    }

    function excelExport(event) {
        excelExportCommon(event, handleExcelDataAll);
    }

    function excelExportCommon(event, callback) {
        if (tablechk == 0) {
            var input = event.target;
            var reader = new FileReader();

            reader.onload = function () {
                var fileData = reader.result;
                var wb = XLSX.read(fileData, {type: 'binary'});
                var sheetNameList = wb.SheetNames; // 시트 이름 목록 가져오기
                var secondSheetName = sheetNameList[1]; // 두번째 시트명
                var secondSheet = wb.Sheets[secondSheetName]; // 두번째 시트
                callback(secondSheet);

                delete secondSheet.A1;
                delete secondSheet.A2;
                var rowdata = XLSX.utils.sheet_to_json(secondSheet);

                var keys = Object.values(rowdata[1]);

                var html = "";

                for (var i = 1; i < rowdata.length; i++) {
                    if (i === 1) {
                        html += "<thead class='text-center'>";
                        html += "<tr>";

                        $.each(rowdata[1], function (idx, value) {
                            html += "<th><span class='excel-title'>" + value + "</span></th>";
                        })

                        html += "</tr>";
                        html += "</thead>";
                    } else if (i !== 1) {
                        html += "<tbody class='text-center'>";
                        html += "<tr class='excel_tr'>";

                        var tmp = Object.keys(rowdata[1]);
                        var j = 0;

                        $.each(rowdata[i], function (idx, value) {
                            // 공백처리
                            if (idx == tmp[j]) {
                                if (idx === "__EMPTY_9") {
                                    if(value == "-") {
                                        html += "<td class='excel'><span>" + value + "</span></td>";
                                        j++;
                                    } else {
                                        html += "<td class='excel'><span>" + excelDateToJSDate(value) + "</span></td>";
                                        j++
                                    }
                                } else {
                                    html += "<td class='excel'><span>" + value + "</span></td>";
                                    j++;
                                }
                            } else {
                                var idx_str = idx.replace(/[^0-9]/g, '');
                                var tmp_str = tmp[j].replace(/[^0-9]/g, '');

                                var gap = idx_str - tmp_str;

                                while (gap > 0) {
                                    gap--;
                                    html += "<td><span> </span></td>";
                                }

                                if (idx === "__EMPTY_9") {
                                    if(value == "-") {
                                        html += "<td class='excel'><span>" + value + "</span></td>";
                                        j++;
                                    } else {
                                        html += "<td class='excel'><span>" + excelDateToJSDate(value) + "</span></td>";
                                        j++
                                    }
                                } else {
                                    html += "<td class='excel'><span>" + value + "</span></td>";
                                    j++;
                                }

                                j = idx_str;
                                j++;
                            }
                        });

                        html += "</tr>";
                        html += "</tbody>";
                    }
                }

                var excel = [];

                for (var k = 1; k < rowdata.length; k++) {
                    var chk = Object.values(rowdata[k]);

                    for (var n = 0; n < keys.length; n++) {
                        if (chk[n] == undefined) {
                            excel[n] = {key: keys[n], value: " "};
                        } else if (keys[n] === "계통번호 부여일") {
                            excel[n] = {key: keys[n], value: excelDateToJSDate(chk[n])};
                        } else {
                            excel[n] = {key: keys[n], value: "" + chk[n]};
                        }
                    }
                    const obj = {...excel};

                    rowdata[k] = obj;
                }

                $("#excel_data").empty();
                $("#excel_data").append(html);
            };

            reader.readAsBinaryString(input.files[0]);
        } else {
            var input1 = event.target;
            var reader1 = new FileReader();

            reader1.onload = function () {
                var fileData = reader1.result;
                var wb = XLSX.read(fileData, {type: 'binary'});
                var sheetNameList = wb.SheetNames; // 시트 이름 목록 가져오기

                var sheetName_ten = sheetNameList[10]; // 네번째 시트명
                var sheetName_ele = sheetNameList[11];
                var tenSheet = wb.Sheets[sheetName_ten]; // 네번째 시트
                var eleSheet = wb.Sheets[sheetName_ele];
                callback(tenSheet);
                callback(eleSheet);

                delete tenSheet.A1;
                delete eleSheet.A1;
                var rowdata = XLSX.utils.sheet_to_json(tenSheet);
                rowdata.push(...XLSX.utils.sheet_to_json(eleSheet));

                var keys = Object.values(rowdata[0]);

                var html = "";

                for (var i = 1; i < rowdata.length; i++) {
                    if (i === 0) {
                        html += "<thead class='text-center'>";
                        html += "<tr>";

                        $.each(rowdata[0], function (idx, value) {
                            html += "<th><span class='excel-title'>" + value + "</span></th>";
                        })

                        html += "</tr>";
                        html += "</thead>";
                    } else if (i !== 0) {
                        html += "<tbody class='text-center'>";
                        html += "<tr class='excel_tr'>";

                        var tmp = Object.keys(rowdata[0]);
                        var j = 0;

                        $.each(rowdata[i], function (idx, value) {
                            // 공백처리
                            if (idx == tmp[j]) {
                                if (idx === "__EMPTY_9") {
                                    html += "<td class='excel'><span>" + excelDateToJSDate(value) + "</span></td>";
                                } else {
                                    html += "<td class='excel'><span>" + value + "</span></td>";
                                    j++;
                                }
                            } else {
                                var idx_str = idx.replace(/[^0-9]/g, '');
                                var tmp_str = tmp[j].replace(/[^0-9]/g, '');

                                var gap = idx_str - tmp_str;

                                while (gap > 0) {
                                    gap--;
                                    html += "<td><span> </span></td>";
                                }

                                if (idx === "__EMPTY_9") {
                                    html += "<td class='excel'><span>" + excelDateToJSDate(value) + "</span></td>";
                                } else {
                                    html += "<td class='excel'><span>" + value + "</span></td>";
                                    j++;
                                }

                                j = idx_str;
                                j++;
                            }
                        });

                        html += "</tr>";
                        html += "</tbody>";
                    }
                }

                var excel = [];

                for (var k = 1; k < rowdata.length; k++) {
                    var chk = Object.values(rowdata[k]);

                    for (var n = 0; n < keys.length; n++) {
                        if (chk[n] == undefined) {
                            excel[n] = {key: keys[n], value: " "};
                        } else if (keys[n] === "일자") {
                            excel[n] = {key: keys[n], value: excelDateToJSDate(chk[n])};
                        } else {
                            excel[n] = {key: keys[n], value: "" + chk[n]};
                        }
                    }
                    const obj = {...excel};

                    // console.log(obj);
                    rowdata[k] = obj;
                }

                $("#excel_data1").empty();
                $("#excel_data1").append(html);
            };

            reader1.readAsBinaryString(input1.files[0]);
        }
    }

    // date to string
    function excelDateToJSDate(excelDate) {
        var date = new Date(Math.round((excelDate - (25567 + 2)) * 86400 * 1000)),
            m = '' + (date.getMonth() + 1),
            d = '' + date.getDate(),
            y = date.getFullYear();

        if (m.length < 2) {
            m = '0' + m;
        }

        if (d.length < 2) {
            d = '0' + d;
        }

        return [y, m, d].join('-');
    }

    /* 엑셀 등록 창 */
    function openExcel() {
        if (tablechk == 0) {
            $("#data_upload2").modal();

            let data = {"datalist_type": 'basic'};

            $.ajax(
                {
                    url: 'selectBasicDateGroup',
                    method: 'POST',
                    dataType: 'json',
                    data: data,
                    success: function (result) {
                        var data_list = $("#uploadDate");
                        var data_add = "";

                        for (var i = result.dataGroup.length - 1; i > -1; i--) {
                            data_add += '<tr>';
                            data_add += '<td>' + (i + 1) + '</td>';
                            data_add += '<td>' + result.dataGroup[i].datalist_date + '</td>';
                            data_add += '<td>' + result.dataGroup[i].cnt + '</td>';
                            data_add += '</tr>';
                        }

                        data_list.empty();
                        data_list.append(data_add);
                    }
                });
        } else {
            $("#data_upload21").modal();
        }
    }

    /* 엑셀 등록 창 */

    let now = null;

    /* 엑셀 입력 */
    function InsertExcel() {
        if (tablechk == 0) {
            var excel_list = $(".excel_tr");

            var total_arr = [];
            var excel_arr = [];
            for (var i = 0; i < excel_list.length; i++) {
                excel_arr = [];

                var items = $(".excel_tr")[i].childNodes;

                for (var j = 0; j < items.length; j++) {
                    excel_arr.push(items[j].innerText);
                }

                total_arr.push(excel_arr);
            }

            $("#excel_list").val(JSON.stringify(total_arr));

            $.ajax(
                {
                    url: 'excelBasic',
                    method: 'POST',
                    dataType: 'json',
                    data: {
                        "excel_list": JSON.stringify(total_arr)
                    },
                    success: function (result) {

                        now = new Date(+new Date() + 3240 * 10000).toISOString().split("T")[0];

                        let listData = [];

                        let basic_name = $("#CropSelect").val();

                        let lData = {"datalist_type": 'basic', "datalist_date": now, "basic_name": basic_name};

                        listData.push(lData);

                        $.ajax(
                            {
                                url: 'insertBasicDataList',
                                method: 'POST',
                                dataType: 'json',
                                data: {
                                    "listData": JSON.stringify(listData)
                                },
                                success: function (result) {
                                    location.reload();
                                }
                            })
                    }
                }
            )


        } else {
            var data1 = [];

            $("#excel_data1").each(function (index, item) {
                const key = $(this).attr('id');
                var value = $(this).val();

                var arr = {key: key, value: value};

                data1.push(arr);
            });

            $("#excelForm1").submit();
        }
    }

    /* 엑셀 코드 */

    // table to json
    function tableToJson(table) {
        var data = [];

        var headers = [];
        for (var i = 0; i < table.rows[0].cells.length; i++) {
            headers[i] = table.rows[0].cells[i].innerText;
        }

        for (var i = 1; i < table.rows.length; i++) {
            var tableRow = table.rows[i];

            var rowData = {};

            for (var j = 0; j < tableRow.cells.length; j++) {
                rowData[headers[j]] = tableRow.cells[j].innerText;
            }

            data.push(rowData);
        }

        return data;
    }

    function SearchBasic(e) {
        var basic_name = $("#CropSelect").val();
        var limit = $("#limit").val();

        var data = {"basic_name": basic_name, "page_num": e, "limit": limit};

        $.ajax(
            {
                url: 'searchBasic',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    var header_list = $("#header_list");
                    var header_add = "";

                    var basic_list = $("#basic_list");
                    var add_list = "";

                    var detail_list = $(".detail_list");
                    var detail_list2 = $(".detail_list2");

                    var display_list = $(".display_list");
                    var display_add = "";

                    var detail_add = "";
                    var detail_add2 = "";

                    var pageNum = $("#pageNum");
                    var page_add = "";

                    // header
                    header_add += '<tr>';
                    header_add += '<th></th>';
                    header_add += '<th><span class="title">첨부파일</span><i></i><img src="../assets/vendor_assets/img/title_icon.png" alt="첨부파일"></th>';
                    header_add += '<th><span class="title">특성상태</span><i></i><img src="../assets/vendor_assets/img/title_icon.png" alt="특성상태"></th>';

                    for (var i = 0; i < result.display.length; i++) {
                        header_add += '<th style="cursor: pointer;"><span class="title">' + result.display[i].detail_title + '</span><i></i><img src="../assets/vendor_assets/img/title_icon.png" alt="' + result.display[i].detail_title + '"></th>'
                    }

                    header_add += '</tr>';

                    // body
                    for (var i = 0; i < result.basic.length; i++) {
                        add_list += '<tr>';
                        add_list += '<td><input type="checkbox" name="RowCheck" value="' + result.basic[i].basic_id + '"></td>';
                        add_list += '<td><button class="btn btn-light btn-default btn-squared btn-transparent-light" onclick="FileBtn(' + result.basic[i].basic_id + ');"><i class="bi bi-file-earmark-arrow-down"></i></button></td>';

                        if (result.basic[i].standard_count == 0) {
                            add_list += '<td onclick="EmptyBtn(' + result.basic[i].basic_id + ');" style="color : blue; cursor:pointer;">EMPTY</td>';
                        } else {
                            add_list += '<td onclick="EmptyBtn(' + result.basic[i].basic_id + ');" style="color : green; cursor:pointer;">PROGRESS</td>';
                        }

                        for (var j = 0; j < result.basic[i].basic_standard.length; j++) {
                            add_list += '<td><input type="text" class="updateInput" data="' + result.basic[i].basic_id + '" name="' + result.basic[i].basic_standard[j].detail_id + '" value="' + result.basic[i].basic_standard[j].standard + '"></td>';
                        }

                        add_list += '</tr>';
                    }

                    // detail
                    for (var i = 0; i < detail_list.length; i++) {
                        detail_add = "";
                        detail_add2 = "";
                        display_add = "";

                        for (var j = 0; j < result.detail.length; j++) {
                            // 표시항목
                            if (result.detail[j].detail_spec == detail_list.eq(i).attr("name")) {
                                var check = true;

                                for (var k = 0; k < result.display.length; k++) {
                                    if (result.display[k].detail_id == result.detail[j].detail_id) {
                                        check = false;

                                        display_add += '<div data-id="' + result.detail[j].detail_id + '" class="list-group step">';
                                        display_add += '<li class="list-group-item-sm list-group-item">';
                                        display_add += '<div class="row">';
                                        display_add += '<input type="checkbox" class="checkbox mr-2" name="mis_research">';
                                        display_add += '<span class="research-title">' + result.detail[j].detail_title + '</span>';
                                        display_add += '<input type="hidden" name="detail_id" value="' + result.detail[j].detail_id + '">';
                                        display_add += '</div>';
                                        display_add += '</li>';
                                        display_add += '</div>';
                                    }
                                }

                                if (check) {
                                    detail_add += '<li>';
                                    detail_add += '<input type="checkbox" class="check_box" name="chk_research" value="' + result.detail[j].detail_id + '">';
                                    detail_add += '<div class="title">' + result.detail[j].detail_title + '</div>';
                                    detail_add += '</li>';
                                }
                            }

                            // 특성상태
                            if (result.detail[j].detail_spec == detail_list.eq(i).attr("name")) {
                                detail_add2 += '<li>';
                                detail_add2 += '<div class="title">' + result.detail[j].detail_title + '</div>';
                                detail_add2 += '<div class="input_text">';
                                detail_add2 += '<input type="text" class="empty_list" name="standard">';
                                detail_add2 += '<input type="hidden" name="detail_id" value="' + result.detail[j].detail_id + '"></div>';
                                detail_add2 += '</div>';
                                detail_add2 += '</li>';
                            }
                        }

                        detail_list.eq(i).empty();
                        detail_list.eq(i).append(detail_add);

                        detail_list2.eq(i).empty();
                        detail_list2.eq(i).append(detail_add2);

                        display_list.eq(i).empty();
                        display_list.eq(i).append(display_add);
                    }

                    // paging
                    if (result.page_num == 1) {
                        page_add += '<button class="atbd-pagination__link pagination-control"><span class="la la-angle-left"></span></button>';
                    } else {
                        page_add += '<button class="atbd-pagination__link pagination-control" onclick="SearchBasic(' + (result.page_num - 1) + ')"><span class="la la-angle-left"></span></button>';
                    }

                    for (var i = 0; i < result.end_page; i++) {
                        if (result.page_num == (i + 1)) {
                            page_add += '<button class="atbd-pagination__link active" onclick="SearchBasic(' + (i + 1) + ')">' + (i + 1) + '</button>';
                        } else {
                            page_add += '<button class="atbd-pagination__link" onclick="SearchBasic(' + (i + 1) + ')">' + (i + 1) + '</button>';
                        }
                    }

                    if (result.page_num == result.end_page) {
                        page_add += '<button class="atbd-pagination__link pagination-control"><span class="la la-angle-right"></span></button>';
                    } else {
                        page_add += '<button class="atbd-pagination__link pagination-control" onclick="SearchBasic(' + (result.page_num + 1) + ')"><span class="la la-angle-right"></span></button>';
                    }

                    header_list.empty();
                    header_list.append(header_add);

                    basic_list.empty();
                    basic_list.append(add_list);

                    pageNum.empty();
                    pageNum.append(page_add);

                    $("#offset").val(result.offset);

                    checkFunction()
                }
            });
    }

    // 계통명 팝업
    function SearchBreed(e) {
        $("#pop_breed").modal();

        var breed_name = $("#CropSelect").val();

        var data = {"breed_name": breed_name};

        $.ajax(
            {
                url: 'searchBreedListBasic',
                method: 'POST',
                dataType: 'json',
                data: data,
                success: function (result) {
                    $(".breed_title").text("계통명 (ID) : " + e.innerText);

                    var header_list = $("#breed_header_list");
                    var header_add = "";

                    var breed_list = $("#breed_breed_list");
                    var add_list = "";

                    var detail_list = $(".detail_list");
                    var detail_list2 = $(".detail_list2");

                    var display_list = $(".display_list");
                    var display_add = "";

                    var detail_add = "";
                    var detail_add2 = "";

                    // header
                    header_add += '<tr>';
                    header_add += '<th><span class="title">첨부파일</span></th>';
                    header_add += '<th><span class="title">특성상태</span></th>';

                    for (var i = 0; i < result.display.length; i++) {
                        header_add += '<th><span class="title">' + result.display[i].detail_title + '</span></th>'
                    }

                    header_add += '</tr>';

                    // body
                    for (var i = 0; i < result.breed.length; i++) {
                        add_list += '<tr>';
                        add_list += '<td><button class="btn btn-light btn-default btn-squared btn-transparent-light" onclick="FileBtn(' + result.breed[i].breed_id + ');"><i class="bi bi-file-earmark-arrow-down"></i></button></td>';

                        if (result.breed[i].standard_count == 0) {
                            add_list += '<td style="color : blue; cursor:pointer;">EMPTY</td>';
                        } else {
                            add_list += '<td style="color : green; cursor:pointer;">PROGRESS</td>';
                        }

                        for (var j = 0; j < result.breed[i].breed_standard.length; j++) {
                            add_list += '<td>' + result.breed[i].breed_standard[j].standard + '</td>';
                        }

                        add_list += '</tr>';
                    }

                    // detail
                    for (var i = 0; i < detail_list.length; i++) {
                        detail_add = "";
                        detail_add2 = "";
                        display_add = "";

                        for (var j = 0; j < result.detail.length; j++) {
                            // 표시항목
                            if (result.detail[j].detail_spec == detail_list.eq(i).attr("name")) {
                                var check = true;

                                for (var k = 0; k < result.display.length; k++) {
                                    if (result.display[k].detail_id == result.detail[j].detail_id) {
                                        check = false;

                                        display_add += '<div data-id="' + result.detail[j].detail_id + '" class="list-group step">';
                                        display_add += '<li class="list-group-item-sm list-group-item">';
                                        display_add += '<div class="row">';
                                        display_add += '<input type="checkbox" class="checkbox mr-2" name="mis_research">';
                                        display_add += '<span class="research-title">' + result.detail[j].detail_title + '</span>';
                                        display_add += '<input type="hidden" name="detail_id" value="' + result.detail[j].detail_id + '">';
                                        display_add += '</div>';
                                        display_add += '</li>';
                                        display_add += '</div>';
                                    }
                                }

                                if (check) {
                                    detail_add += '<li>';
                                    detail_add += '<input type="checkbox" class="check_box" name="chk_research" value="' + result.detail[j].detail_id + '">';
                                    detail_add += '<div class="title">' + result.detail[j].detail_title + '</div>';
                                    detail_add += '</li>';
                                }
                            }

                            // 특성상태
                            if (result.detail[j].detail_spec == detail_list.eq(i).attr("name")) {
                                detail_add2 += '<li>';
                                detail_add2 += '<div class="title">' + result.detail[j].detail_title + '</div>';
                                detail_add2 += '<div class="input_text">';
                                detail_add2 += '<input type="text" class="empty_list" name="standard">';
                                detail_add2 += '<input type="hidden" name="detail_id" value="' + result.detail[j].detail_id + '"></div>';
                                detail_add2 += '</div>';
                                detail_add2 += '</li>';
                            }
                        }

                        detail_list.eq(i).empty();
                        detail_list.eq(i).append(detail_add);

                        detail_list2.eq(i).empty();
                        detail_list2.eq(i).append(detail_add2);

                        display_list.eq(i).empty();
                        display_list.eq(i).append(display_add);
                    }

                    header_list.empty();
                    header_list.append(header_add);

                    breed_list.empty();
                    breed_list.append(add_list);

                    $("#offset").val(result.offset);
                }

            });
    }
</script>
</body>
</html>